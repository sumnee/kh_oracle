CREATE TABLE DEPARTMENT_TBL(
    DEPT_ID CHAR(2) NOT NULL,
    DEPT_TITLE VARCHAR2(35) UNIQUE,
    LOCATION_ID CHAR(2)
);
DROP TABLE DEPARTMENT_TBL;

COMMENT ON COLUMN DEPARTMENT_TBL.DEPT_ID IS '부서코드';
COMMENT ON COLUMN DEPARTMENT_TBL.DEPT_TITLE IS '부서명';
COMMENT ON COLUMN DEPARTMENT_TBL.LOCATION_ID IS '지역코드';

INSERT INTO DEPARTMENT_TBL VALUES(NULL, NULL, 'L1');
--NOT NULL 컬럼인 ID에서 오류

INSERT INTO DEPARTMENT_TBL VALUES('J7', '인사관리부', 'H1');
--UNIQUE 컬럼인 TITLE에서 오류 (NULL은 넣을 수 있음)


--제약조건 삭제(테이블-제약조건 탭에서 제약조건 이름 복사해옴)
ALTER TABLE DEPARTMENT_TBL
DROP CONSTRAINT SYS_C007001;

--제약조건 추가
ALTER TABLE DEPARTMENT_TBL
ADD CONSTRAINT DEPT_U UNIQUE(DEPT_TITLE);

--제약조건명 수정
ALTER TABLE DEPARTMENT_TBL
RENAME CONSTRAINT DEPT_U TO DEPT_UN;

--제약조건 확인
SELECT CONSTRAINT_NAME, CONSTRAINT_TYPE
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='DEPARTMENT_TBL';

INSERT INTO DEPARTMENT_TBL(DEPT_ID, DEPT_TITLE, LOCATION_ID)
VALUES('D1', '인사관리부', 'L1');
INSERT INTO DEPARTMENT_TBL
VALUES('D2', '회계관리부', 'L1');
INSERT INTO DEPARTMENT_TBL
VALUES('D3', '마케팅부', 'L1');
INSERT INTO DEPARTMENT_TBL
VALUES('D4', '국내영업부', 'L1');
INSERT INTO DEPARTMENT_TBL
VALUES('D5', '해외영업1부', 'L2');
INSERT INTO DEPARTMENT_TBL
VALUES('D6', '해외영업2부', 'L3');
INSERT INTO DEPARTMENT_TBL
VALUES('D7', '해외영업3부', 'L4');
INSERT INTO DEPARTMENT_TBL
VALUES('D8', '기술지원부', 'L5');
INSERT INTO DEPARTMENT_TBL
VALUES('D9', '총무부', 'L1');

CREATE TABLE EMPLOYEE_TBL(
    EMP_ID VARCHAR2(3),
    EMP_NAME VARCHAR2(20),
    EMP_NO CHAR(14),
    EMAIL VARCHAR2(25),
    PHONE VARCHAR2(12),
    DEPT_CODE CHAR(2),
    JOB_CODE CHAR(2),
    SAL_LEVEL CHAR(2),
    SALARY NUMBER,
    BONUS NUMBER,
    MANAGER_ID VARCHAR2(3),
    HIRE_DATE DATE,
    ENT_DATE DATE,
    ENT_YN CHAR(1)
);

CREATE TABLE JOB_TBL(
    JOB_CODE CHAR(2),
    JOB_NAME VARCHAR2(35)
);

INSERT INTO JOB_TBL(JOB_CODE, JOB_NAME)
VALUES('J1','대표');
INSERT INTO JOB_TBL
VALUES('J2','부사장');
INSERT INTO JOB_TBL
VALUES('J3','부장');
INSERT INTO JOB_TBL
VALUES('J4','차장');
INSERT INTO JOB_TBL
VALUES('J5','과장');
INSERT INTO JOB_TBL
VALUES('J6','대리');
INSERT INTO JOB_TBL
VALUES('J7','사원');

CREATE TABLE LOCATION_TBL(
    LOCAL_CODE CHAR(2),
    NATIONAL_CODE CHAR(2),
    LOCAL_NAME VARCHAR2(40)
);

INSERT INTO LOCATION_TBL(LOCAL_CODE,NATIONAL_CODE,LOCAL_NAME)
VALUES('L1','KO','ASIA1');
INSERT INTO LOCATION_TBL
VALUES('L2','JP','ASIA2');
INSERT INTO LOCATION_TBL
VALUES('L3','CH','ASIA3');
INSERT INTO LOCATION_TBL
VALUES('L4','US','AMERICA');
INSERT INTO LOCATION_TBL
VALUES('L5','RU','EU');
   
CREATE TABLE NATIONAL_TBL(
    NATIONAL_CODE CHAR(2),
    NATIONAL_NAME VARCHAR2(35)
);

INSERT INTO NATIONAL_TBL(NATIONAL_CODE,NATIONAL_NAME)
VALUES('KO','한국');
INSERT INTO NATIONAL_TBL
VALUES('JP','일본');
INSERT INTO NATIONAL_TBL
VALUES('CH','중국');
INSERT INTO NATIONAL_TBL
VALUES('US','미국');
INSERT INTO NATIONAL_TBL
VALUES('RU','러시아');




CREATE TABLE USER_GRADE (
    GRADE_CODE NUMBER PRIMARY KEY,
    GRADE_NAME VARCHAR2(30) NOT NULL
);

DESC USER_GRADE

SELECT * FROM USER_GRADE;
INSERT INTO USER_GRADE VALUES(10, '일반회원');
INSERT INTO USER_GRADE VALUES(20, '우수회원');
INSERT INTO USER_GRADE VALUES(30, '특별회원');
    
CREATE TABLE USER_FOREIGNKEY(
    USER_NO NUMBER PRIMARY KEY,
    USER_ID VARCHAR2(20) UNIQUE,
    USER_PWD VARCHAR2(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    EMAIL VARCHAR2(50),
    GRADE_CODE NUMBER CONSTRAINT GRADE_CODE_FK REFERENCES USER_GRADE(GRADE_CODE)
);

SELECT CONSTRAINTS_NAME, CONSTRAINT_TYPE
FROM USER_CONSTRAINTS
WHERE TABLE_NAME = 'USER_FOREIGNKEY';
DESC USER_CONSTRAINTS

INSERT INTO USER_FOREIGNKEY
VALUES (1, 'USER01','PASS01','일','남','EMAIL1@',10);
INSERT INTO USER_FOREIGNKEY
VALUES (2, 'USER02','PASS02','이','남','EMAIL2@',20);
INSERT INTO USER_FOREIGNKEY
VALUES (3, 'USER03','PASS03','삼','남','EMAIL3@',30);
INSERT INTO USER_FOREIGNKEY
VALUES (4, 'USER04','PASS04','사','남','EMAIL4@',40);

SELECT GRADE_CODE, GRADE_NAME FROM USER_GRADE;
----USER_GRADE 에서 GRADE_CODE, GRADE_NAME 출력해서 보는것







